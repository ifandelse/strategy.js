/*
 strategy.js
 Author: Jim Cowart (http://freshbrewedcode.com/jimcowart)
 License: Dual licensed MIT (http://www.opensource.org/licenses/mit-license) & GPL (http://www.opensource.org/licenses/gpl-license)
 Version 0.0.1
 */
(function(t,e){"object"==typeof module&&module.exports?module.exports=e():"function"==typeof define&&define.amd?define(e(t)):t.Strategy=e(t)})(this,function(){return function(t){var e=t.owner[t.prop];if("function"!=typeof e)throw Error("Strategies can only target methods.");var n=[],r=t.context||t.owner,o=function(){var t=0,o=function o(){var a,u=Array.prototype.slice.call(arguments,0),i=t;t+=1,n.length>i?(a=n[i],a.fn.apply(a.context||r,[o].concat(u))):e.apply(r,u)};o.apply(this,arguments)};return o.target=function(){return e},o.context=function(t){return 0===arguments.length?r:(r=t,undefined)},o.strategies=function(){return n},o.useStrategy=function(t){for(var e=0,r=!1;n.length>e;){if(n[e].name===t.name){n[e]=t,r=!0;break}e+=1}r||n.push(t)},o.reset=function(){n=[]},t.lazyInit?(e.useStrategy=function(){t.owner[t.prop]=o,o.useStrategy.apply(o,arguments)},e):o}});